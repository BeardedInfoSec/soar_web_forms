{"ast":null,"code":"import React,{useState,useRef,useEffect}from'react';import{DndContext,DragOverlay,closestCenter}from'@dnd-kit/core';import{arrayMove,SortableContext,useSortable,rectSortingStrategy}from'@dnd-kit/sortable';import Papa from'papaparse';import'./FormBuilder.css';import Button from'@splunk/react-ui/Button';import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";const ELEMENT_TYPES=[{id:'heading',label:'Heading'},{id:'text',label:'Text'},{id:'divider',label:'Divider'},//{ id: 'button', label: 'Button' },\n//{ id: 'image', label: 'Image' },\n{id:'table',label:'Table'}];const INPUT_FIELDS=[{id:'inputText',label:'Input Text',type:'text'},{id:'email',label:'Email',type:'email'},//{ id: 'password', label: 'Password', type: 'password' }, \n{id:'dateTime',label:'Date or Time',type:'datetime-local'},{id:'dropdown',label:'Dropdown',type:'dropdown'},{id:'boolean',label:'Boolean',type:'dropdown'},{id:'number',label:'Number',type:'number'},{id:'file',label:'File Upload',type:'file'}];const FormBuilder=()=>{var _draftSettings$dropdo;const[formElements,setFormElements]=useState([]);const[formName,setFormName]=useState('');const[formLabel,setFormLabel]=useState('');const[formTags,setFormTags]=useState('');const[savedForms,setSavedForms]=useState([]);// Add state to store list of saved forms\nconst[selectedForm,setSelectedForm]=useState('');// Add state to track selected form\nconst[selectedElement,setSelectedElement]=useState(null);const[draftSettings,setDraftSettings]=useState(null);const[draggingElement,setDraggingElement]=useState(null);const formContainerRef=useRef(null);const[selectedFileName,setSelectedFileName]=useState('');const SUBMIT_BUTTON_ID='submit-button';const[formToLoad,setFormToLoad]=useState(null);// Hold the form name to load after clearing\nuseEffect(()=>{console.log('Form Elements Updated:',formElements);const tableElement=formElements.find(el=>el.type==='table');if(tableElement){console.log('Table Element Found:',tableElement);console.log('CSV Data in State:',tableElement.settings.csvData);}},[formElements]);useEffect(()=>{if(!formElements.some(el=>el.id===SUBMIT_BUTTON_ID)){addSubmitButton();}},[formElements]);useEffect(()=>{loadSavedForms();},[]);const loadSavedForms=async()=>{try{const response=await fetch('http://localhost:5000/forms');if(!response.ok){throw new Error(`Failed to fetch forms: ${response.status}`);}const data=await response.json();const loadedForms=data.map(form=>({id:form.id,// Ensure this is present\nname:form.name// Ensure this is present\n}));setSavedForms(loadedForms);// Set the forms to state\n}catch(error){console.error('Error loading forms:',error);}};const loadForm=async()=>{if(!selectedForm){alert('Please select a form to load.');return;}try{var _xmlDoc$querySelector,_xmlDoc$querySelector2;const response=await fetch(`http://localhost:5000/forms/${encodeURIComponent(selectedForm)}`);if(!response.ok){throw new Error(`Failed to load form: ${response.status}`);}const formData=await response.json();const parser=new DOMParser();const xmlDoc=parser.parseFromString(formData.xml_data,'application/xml');const loadedName=((_xmlDoc$querySelector=xmlDoc.querySelector('form > name'))===null||_xmlDoc$querySelector===void 0?void 0:_xmlDoc$querySelector.textContent)||'';const loadedLabel=((_xmlDoc$querySelector2=xmlDoc.querySelector('form > label'))===null||_xmlDoc$querySelector2===void 0?void 0:_xmlDoc$querySelector2.textContent)||'';const loadedTags=Array.from(xmlDoc.querySelectorAll('form > tags > tag')).map(tag=>tag.textContent);const elements=Array.from(xmlDoc.querySelectorAll('elements > element')).map((el,index)=>{var _el$querySelector,_el$querySelector2,_el$querySelector3,_el$querySelector4,_el$querySelector5,_el$querySelector6,_el$querySelector7,_el$querySelector8;const type=((_el$querySelector=el.querySelector('type'))===null||_el$querySelector===void 0?void 0:_el$querySelector.textContent)||'text';const optionsNode=el.querySelector('dropdownOptions');const options=optionsNode?Array.from(optionsNode.querySelectorAll('option')).map(opt=>opt.textContent):[];return{id:`element-${Date.now()}-${index}`,type,key:((_el$querySelector2=el.querySelector('key'))===null||_el$querySelector2===void 0?void 0:_el$querySelector2.textContent)||'',label:((_el$querySelector3=el.querySelector('label'))===null||_el$querySelector3===void 0?void 0:_el$querySelector3.textContent)||'',required:((_el$querySelector4=el.querySelector('required'))===null||_el$querySelector4===void 0?void 0:_el$querySelector4.textContent)==='true',alignment:((_el$querySelector5=el.querySelector('alignment'))===null||_el$querySelector5===void 0?void 0:_el$querySelector5.textContent)||'center',settings:{headerLevel:((_el$querySelector6=el.querySelector('headerLevel'))===null||_el$querySelector6===void 0?void 0:_el$querySelector6.textContent)||'h1',placeholder:((_el$querySelector7=el.querySelector('placeholder'))===null||_el$querySelector7===void 0?void 0:_el$querySelector7.textContent)||'',dropdownOptions:options,label:((_el$querySelector8=el.querySelector('label'))===null||_el$querySelector8===void 0?void 0:_el$querySelector8.textContent)||''// Set label directly in settings\n}};}).filter(el=>el.type!=='button');// Exclude submit button\nsetFormName(loadedName);setFormLabel(loadedLabel);setFormTags(loadedTags.join(', '));setFormElements(elements);console.log(`Form \"${selectedForm}\" loaded successfully!`);}catch(error){console.error('Error loading form:',error);alert('Failed to load form data.');}};const addSubmitButton=()=>{setFormElements(prev=>[...prev,{id:SUBMIT_BUTTON_ID,type:'button',key:'Submit',label:'Submit',alignment:'center',required:false,settings:{}}]);};const generateKey=type=>{// Count how many elements of this type already exist in formElements\nconst existingCount=formElements.filter(el=>el.type===type).length;return`${type}${existingCount+1}`;// e.g., \"inputText1\", \"inputText2\"\n};const addElement=type=>{const newKey=generateKey(type);const defaultLabel=`${type.charAt(0).toUpperCase()+type.slice(1)}`;// Generate a default label based on the type\nconst newElement={id:Date.now().toString(),type,key:newKey,label:defaultLabel,alignment:'center',settings:{label:defaultLabel,// Set the label directly in settings\nheaderLevel:'h1',placeholder:type==='email'?'Email Address':type==='password'?'Enter password':'Enter text here...',useCurrentDate:false,defaultBoolean:'true',dropdownOptions:[],min:'',max:'',step:'',defaultValue:'',showPasswordOption:false,passwordLength:'',requireSymbols:false,requireNumbers:false,csvData:[]},required:false,textColor:'#ffffff',fontFamily:'Arial'};setFormElements(prev=>{const submitIndex=prev.findIndex(el=>el.id===SUBMIT_BUTTON_ID);const newFormElements=[...prev];newFormElements.splice(submitIndex,0,newElement);return newFormElements;});};const isKeyUnique=key=>{return!formElements.some(el=>el.key===key&&el.id!==(selectedElement===null||selectedElement===void 0?void 0:selectedElement.id));};const handleSubmit=()=>{const formData=formElements.filter(el=>el.id!==SUBMIT_BUTTON_ID);// Exclude submit button from data\nconsole.log('Form submitted:',formData);// Example API call\nfetch('/api/submit-form',{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify({elements:formData})}).then(response=>response.json()).then(data=>console.log('Form submission response:',data)).catch(error=>console.error('Error submitting form:',error));};const handleImageUpload=(event,elementId)=>{const file=event.target.files[0];if(file){const reader=new FileReader();reader.onload=e=>{const imageSrc=e.target.result;setFormElements(prev=>prev.map(el=>el.id===elementId?{...el,settings:{...el.settings,imageSrc}}:el));};reader.readAsDataURL(file);}};const saveForm=async()=>{if(!formName){alert('Please enter a name for the form.');return;}// Define formData object excluding xmlData initially\nconst formData={name:formName,label:formLabel,tags:formTags?formTags.split(',').map(tag=>tag.trim()):[],elements:formElements};// Convert formData to XML format and store it in xmlData\nconst convertToXML=obj=>{let xml='';for(let key in obj){if(Array.isArray(obj[key])){if(key==='dropdownOptions'){// Special handling for dropdown options\nxml+=`<${key}>`;obj[key].forEach(option=>{xml+=`<option>${option}</option>`;});xml+=`</${key}>`;}else{xml+=`<${key}>`;obj[key].forEach(element=>{if(Array.isArray(element)){xml+='<row>';element.forEach(cell=>{xml+=`<cell>${cell}</cell>`;});xml+='</row>';}else{xml+=`<element>${convertToXML(element)}</element>`;}});xml+=`</${key}>`;}}else if(typeof obj[key]==='object'){xml+=`<${key}>${convertToXML(obj[key])}</${key}>`;}else{xml+=`<${key}>${obj[key]}</${key}>`;}}return xml;};// Now generate xmlData from formData and add it to the formData object\nformData.xmlData=`<form>${convertToXML(formData)}</form>`;// Send form data to backend\ntry{const response=await fetch('http://localhost:5000/save_form',{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify({...formData,// Spread formData to include all fields, including xmlData\noverwrite:false// Default overwrite to false\n})});if(response.status===409){// Prompt the user to confirm overwrite\nif(window.confirm('A form with this name already exists. Do you want to overwrite it?')){formData.overwrite=true;const overwriteResponse=await fetch('http://localhost:5000/save_form',{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify(formData)});if(!overwriteResponse.ok)throw new Error('Failed to overwrite form');alert(`Form \"${formName}\" overwritten successfully!`);}else{alert('Save cancelled.');}}else if(!response.ok){throw new Error('Failed to save form');}else{alert(`Form \"${formName}\" saved successfully!`);}}catch(error){console.error('Error:',error);alert(`Error saving form: ${error.message}`);}};const removeElement=id=>{if(id===SUBMIT_BUTTON_ID)return;// Prevent deletion of the Submit button\nsetFormElements(prev=>prev.filter(el=>el.id!==id));if((selectedElement===null||selectedElement===void 0?void 0:selectedElement.id)===id){setSelectedElement(null);}};const handleEditClick=element=>{var _element$settings,_element$settings2;setSelectedElement(element);setDraftSettings({...element.settings,key:element.key||'',label:element.label,alignment:element.alignment,required:element.required,placeholder:(_element$settings=element.settings)===null||_element$settings===void 0?void 0:_element$settings.placeholder,csvData:((_element$settings2=element.settings)===null||_element$settings2===void 0?void 0:_element$settings2.csvData)||[]// Ensure csvData is included\n});};const applyDraftChanges=()=>{if(selectedElement&&draftSettings){console.log('Applying draft changes:',{selectedElement,draftSettings});if(isKeyUnique(draftSettings.key)){updateElementSettings(selectedElement.id,{...selectedElement,...draftSettings,settings:{...selectedElement.settings,...draftSettings,csvData:draftSettings.csvData!==undefined?draftSettings.csvData:selectedElement.settings.csvData// Preserve csvData if not in draftSettings\n}});console.log('Updated element:',selectedElement);setSelectedElement(null);setDraftSettings(null);}else{alert('The key must be unique. Please choose another.');}}};const cancelChanges=()=>{setSelectedElement(null);setDraftSettings(null);};const updateElementSettings=(id,newSettings)=>{console.log('Updating element settings for ID:',id);console.log('New settings before merge:',newSettings);setFormElements(prev=>prev.map(el=>el.id===id.toString()?{...el,...newSettings,settings:{...el.settings,...newSettings,csvData:newSettings.csvData!==undefined?newSettings.csvData:el.settings.csvData// Preserve existing csvData if not overwritten\n}}:el));console.log('Updated form elements:',formElements);};const handleDragStart=_ref=>{let{active}=_ref;setDraggingElement(active.id);};const handleDragEnd=_ref2=>{let{active,over}=_ref2;if(over&&active.id!==over.id){const oldIndex=formElements.findIndex(el=>el.id===active.id);const newIndex=formElements.findIndex(el=>el.id===over.id);setFormElements(prev=>arrayMove(prev,oldIndex,newIndex));}setDraggingElement(null);};const handleCSVUpload=(event,elementId)=>{const file=event.target.files[0];if(file){if(!file.name.endsWith('.csv')){alert('Please upload a valid .csv file.');return;}Papa.parse(file,{complete:result=>{const csvData=result.data;console.log('Parsed CSV Data:',csvData);setFormElements(prev=>prev.map(el=>el.id===elementId?{...el,csvData,// Update the csvData property\nsettings:{...el.settings,csvData}}:el));},header:false// Adjust as needed\n});}};const handleResetForm=()=>{if(window.confirm('Are you sure you want to reset the form?')){setFormElements([]);// Clear form elements\nsetFormName('');// Clear Form Name\nsetFormLabel('');// Clear Label\nsetSelectedElement(null);// Close the form editor by deselecting the element\n}};const validatePassword=(password,settings)=>{if(settings!==null&&settings!==void 0&&settings.passwordLength&&password.length<settings.passwordLength){return false;}if(settings!==null&&settings!==void 0&&settings.requireSymbols&&!/[!@#$%^&*(),.?\":{}|<>]/.test(password)){return false;}if(settings!==null&&settings!==void 0&&settings.requireNumbers&&!/[0-9]/.test(password)){return false;}return true;};const renderElementContent=element=>{var _element$settings3,_settings$dropdownOpt;const isBeingEdited=(selectedElement===null||selectedElement===void 0?void 0:selectedElement.id)===element.id;const settings=isBeingEdited?draftSettings:element.settings;const alignmentStyle={textAlign:(settings===null||settings===void 0?void 0:settings.alignment)||'center'};// Use the element key as the default label if the label isn't set\n// const displayLabel = settings?.label || element.key || element.label;\nconst wrapperStyle={display:'flex',flexDirection:'column',alignItems:(settings===null||settings===void 0?void 0:settings.alignment)==='left'?'flex-start':(settings===null||settings===void 0?void 0:settings.alignment)==='right'?'flex-end':'center',width:'100%',marginBottom:'10px'};switch(element.type){case'heading':{const HeaderTag=(settings===null||settings===void 0?void 0:settings.headerLevel)||'h1';const alignmentStyle={textAlign:(settings===null||settings===void 0?void 0:settings.alignment)||'center',width:'100%',margin:'0 auto'// Ensures it's centered\n};return/*#__PURE__*/_jsx(\"div\",{style:{display:'flex',justifyContent:'center',width:'100%'},children:/*#__PURE__*/_jsx(HeaderTag,{style:alignmentStyle,children:(settings===null||settings===void 0?void 0:settings.label)||element.label})});}case'text':return/*#__PURE__*/_jsx(\"p\",{style:alignmentStyle,children:settings.label});case'button':return/*#__PURE__*/_jsx(\"div\",{style:{display:'flex',justifyContent:element.alignment||'center',width:'100%'},children:/*#__PURE__*/_jsx(\"button\",{onClick:element.id===SUBMIT_BUTTON_ID?handleSubmit:undefined// Submit button triggers API\n,className:\"custom-button\",style:{padding:'10px 20px',borderRadius:'6px',margin:'5px',backgroundColor:'#007bff',color:'white'},children:element.label})});case'inputText':return/*#__PURE__*/_jsxs(\"div\",{style:wrapperStyle,children:[(settings===null||settings===void 0?void 0:settings.label)&&/*#__PURE__*/_jsx(\"label\",{children:settings.label}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:(settings===null||settings===void 0?void 0:settings.placeholder)||'',required:settings===null||settings===void 0?void 0:settings.required,value:(settings===null||settings===void 0?void 0:settings.value)||''// Bind value to state\n,onChange:e=>{setFormElements(prevElements=>prevElements.map(el=>el.id===element.id?{...el,settings:{...el.settings,value:e.target.value}}:el));},style:{borderRadius:'8px',padding:'10px',border:'1px solid #ced4da',textAlign:'center'}})]});case'email':return/*#__PURE__*/_jsxs(\"div\",{style:wrapperStyle,children:[(settings===null||settings===void 0?void 0:settings.label)&&/*#__PURE__*/_jsx(\"label\",{children:settings.label}),/*#__PURE__*/_jsx(\"input\",{type:\"email\",placeholder:(settings===null||settings===void 0?void 0:settings.placeholder)||'',required:settings===null||settings===void 0?void 0:settings.required,style:{borderRadius:'8px',padding:'10px',border:(settings===null||settings===void 0?void 0:settings.isValid)===false?'2px solid #ff0000':'1px solid #ced4da',boxShadow:(settings===null||settings===void 0?void 0:settings.isValid)===false?'0 0 5px #ff0000':'none',textAlign:'center'},onBlur:e=>{if(e.target.value.trim()!==''){const isValid=/^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/.test(e.target.value);updateElementSettings(element.id,{...settings,isValid});}}}),!(settings!==null&&settings!==void 0&&settings.isValid)&&(settings===null||settings===void 0?void 0:settings.isValid)!==undefined&&/*#__PURE__*/_jsx(\"span\",{style:{color:'#ff0000',fontSize:'0.8em',marginTop:'5px'},children:\"Invalid email address\"})]});case'divider':return/*#__PURE__*/_jsx(\"hr\",{style:{...alignmentStyle,width:'100%'}});case'image':return/*#__PURE__*/_jsxs(\"div\",{style:wrapperStyle,children:[(settings===null||settings===void 0?void 0:settings.label)&&/*#__PURE__*/_jsx(\"label\",{children:settings.label}),\"              \",/*#__PURE__*/_jsxs(\"label\",{className:\"custom-file-label\",children:[\"Choose Image\",/*#__PURE__*/_jsx(\"input\",{type:\"file\",className:\"custom-file-input\",accept:\"image/*\",onChange:e=>handleImageUpload(e,element.id)})]}),settings!==null&&settings!==void 0&&settings.imageSrc?/*#__PURE__*/_jsx(\"img\",{src:settings.imageSrc,alt:\"Uploaded\",style:{maxWidth:'100%',height:'auto',borderRadius:'8px',marginTop:'10px'}}):/*#__PURE__*/_jsx(\"img\",{src:\"https://via.placeholder.com/150\",alt:\"Placeholder\",style:{maxWidth:'100%',height:'auto',borderRadius:'8px',marginTop:'10px'}})]});case'file':return/*#__PURE__*/_jsxs(\"div\",{style:wrapperStyle,children:[(settings===null||settings===void 0?void 0:settings.label)&&/*#__PURE__*/_jsx(\"label\",{children:settings.label}),/*#__PURE__*/_jsxs(\"label\",{className:\"custom-file-label\",children:[\"Upload File\",/*#__PURE__*/_jsx(\"input\",{type:\"file\",className:\"custom-file-input\",onChange:e=>handleCSVUpload(e,element.id),accept:\".csv\"})]}),/*#__PURE__*/_jsx(\"span\",{className:\"file-name\",children:\"No file chosen\"})]});case'table':const tableData=((_element$settings3=element.settings)===null||_element$settings3===void 0?void 0:_element$settings3.csvData)||[];console.log('Rendering Table with Data:',tableData);return/*#__PURE__*/_jsxs(\"div\",{style:wrapperStyle,children:[(settings===null||settings===void 0?void 0:settings.label)&&/*#__PURE__*/_jsx(\"label\",{children:settings.label}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"div\",{style:{marginBottom:'10px'},children:[/*#__PURE__*/_jsx(\"input\",{type:\"file\",accept:\".csv\",id:`file-upload-${element.id}`,onChange:e=>handleCSVUpload(e,element.id),style:{display:'none'}// Hide default input\n}),/*#__PURE__*/_jsx(\"label\",{htmlFor:`file-upload-${element.id}`,style:{backgroundColor:'#007bff',color:'white',padding:'10px 20px',borderRadius:'6px',cursor:'pointer',display:'inline-block'},children:\"Upload CSV File\"}),/*#__PURE__*/_jsx(\"span\",{style:{marginLeft:'10px'},children:selectedFileName||'No file chosen'})]}),/*#__PURE__*/_jsx(\"table\",{style:{margin:'0 auto',borderCollapse:'collapse',width:'100%'},children:/*#__PURE__*/_jsx(\"tbody\",{children:tableData.length>0?tableData.map((row,rowIndex)=>/*#__PURE__*/_jsx(\"tr\",{children:row.map((cell,cellIndex)=>/*#__PURE__*/_jsx(\"td\",{style:{border:'1px solid #ddd',padding:'8px'},children:cell},`cell-${rowIndex}-${cellIndex}`))},`row-${rowIndex}`)):/*#__PURE__*/_jsx(\"tr\",{children:/*#__PURE__*/_jsx(\"td\",{style:{textAlign:'center'},children:\"No Data Available\"})})})})]})]});case'dateTime':return/*#__PURE__*/_jsxs(\"div\",{style:wrapperStyle,children:[(settings===null||settings===void 0?void 0:settings.label)&&/*#__PURE__*/_jsx(\"label\",{children:settings.label}),settings!==null&&settings!==void 0&&settings.useCurrentDate?/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:new Date().toLocaleDateString('en-US'),readOnly:true,style:{borderRadius:'8px',padding:'10px',border:'1px solid #ced4da',textAlign:'center'}}):/*#__PURE__*/_jsx(\"input\",{type:\"date\",style:{borderRadius:'8px',padding:'10px',border:'1px solid #ced4da',textAlign:'center'}})]});case'dropdown':return/*#__PURE__*/_jsxs(\"div\",{style:wrapperStyle,children:[(settings===null||settings===void 0?void 0:settings.label)&&/*#__PURE__*/_jsx(\"label\",{children:settings.label}),/*#__PURE__*/_jsxs(\"select\",{style:{borderRadius:'8px',padding:'10px',border:'1px solid #ced4da',textAlign:'center'},children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"Select an option\"}),settings===null||settings===void 0?void 0:(_settings$dropdownOpt=settings.dropdownOptions)===null||_settings$dropdownOpt===void 0?void 0:_settings$dropdownOpt.map((option,idx)=>/*#__PURE__*/_jsx(\"option\",{value:option,children:option},idx))]})]});case'boolean':return/*#__PURE__*/_jsxs(\"div\",{style:wrapperStyle,children:[(settings===null||settings===void 0?void 0:settings.label)&&/*#__PURE__*/_jsx(\"label\",{children:settings.label}),/*#__PURE__*/_jsxs(\"select\",{value:(settings===null||settings===void 0?void 0:settings.defaultBoolean)||'true',onChange:e=>updateElementSettings(element.id,{...settings,defaultBoolean:e.target.value}),style:{borderRadius:'8px',padding:'10px',border:'1px solid #ced4da',textAlign:'center'},children:[/*#__PURE__*/_jsx(\"option\",{value:\"true\",children:\"True\"}),/*#__PURE__*/_jsx(\"option\",{value:\"false\",children:\"False\"})]})]});case'number':return/*#__PURE__*/_jsxs(\"div\",{style:wrapperStyle,children:[(settings===null||settings===void 0?void 0:settings.label)&&/*#__PURE__*/_jsx(\"label\",{children:settings.label}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",min:settings===null||settings===void 0?void 0:settings.min,max:settings===null||settings===void 0?void 0:settings.max,step:settings===null||settings===void 0?void 0:settings.step,defaultValue:settings===null||settings===void 0?void 0:settings.defaultValue,required:settings===null||settings===void 0?void 0:settings.required,style:{borderRadius:'8px',padding:'10px',border:'1px solid #ced4da',textAlign:'center'}})]});case'password':return/*#__PURE__*/_jsxs(\"div\",{style:{width:'100%',display:'flex',flexDirection:'column',alignItems:(settings===null||settings===void 0?void 0:settings.alignment)==='left'?'flex-start':(settings===null||settings===void 0?void 0:settings.alignment)==='right'?'flex-end':'center',justifyContent:'center'},children:[/*#__PURE__*/_jsxs(\"div\",{style:wrapperStyle,children:[(settings===null||settings===void 0?void 0:settings.label)&&/*#__PURE__*/_jsx(\"label\",{children:settings.label}),/*#__PURE__*/_jsx(\"input\",{type:settings!==null&&settings!==void 0&&settings.showPasswordOption&&settings!==null&&settings!==void 0&&settings.showPassword?'text':'password',placeholder:(settings===null||settings===void 0?void 0:settings.placeholder)||'Enter password',required:settings===null||settings===void 0?void 0:settings.required,onBlur:e=>{const isValid=validatePassword(e.target.value,settings);updateElementSettings(element.id,{...settings,isValid});},style:{borderRadius:'8px',padding:'10px',width:'300px',// Adjust the width as needed\nborder:(settings===null||settings===void 0?void 0:settings.isValid)===false?'2px solid #ff0000':'1px solid #ced4da',textAlign:'left',// Ensures the placeholder text stays aligned left\nmarginRight:'10px'}}),(settings===null||settings===void 0?void 0:settings.showPasswordOption)&&/*#__PURE__*/_jsxs(\"label\",{style:{display:'flex',alignItems:'center',marginLeft:'10px'},children:[/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",checked:(settings===null||settings===void 0?void 0:settings.showPassword)||false,onChange:e=>updateElementSettings(element.id,{...settings,showPassword:e.target.checked}),style:{marginRight:'5px'}}),\"Show Password\"]})]}),/*#__PURE__*/_jsxs(\"div\",{style:{marginTop:'10px',textAlign:(settings===null||settings===void 0?void 0:settings.alignment)||'center',width:'100%',display:'flex',flexDirection:'column',alignItems:(settings===null||settings===void 0?void 0:settings.alignment)==='left'?'flex-start':(settings===null||settings===void 0?void 0:settings.alignment)==='right'?'flex-end':'center'},children:[(settings===null||settings===void 0?void 0:settings.passwordLength)&&/*#__PURE__*/_jsxs(\"p\",{style:{marginBottom:'5px'},children:[\"Requires Minimum Length: \",settings.passwordLength]}),(settings===null||settings===void 0?void 0:settings.requireSymbols)&&/*#__PURE__*/_jsx(\"p\",{style:{marginBottom:'5px'},children:\"Requires Symbols: Yes\"}),(settings===null||settings===void 0?void 0:settings.requireNumbers)&&/*#__PURE__*/_jsx(\"p\",{children:\"Requires Numbers: Yes\"})]}),!(settings!==null&&settings!==void 0&&settings.isValid)&&(settings===null||settings===void 0?void 0:settings.isValid)!==undefined&&/*#__PURE__*/_jsx(\"span\",{style:{color:'#ff0000',fontSize:'0.8em',marginTop:'5px'},children:\"Password does not meet requirements\"})]});default:return/*#__PURE__*/_jsx(\"input\",{type:element.type,placeholder:(settings===null||settings===void 0?void 0:settings.placeholder)||'',required:settings===null||settings===void 0?void 0:settings.required,style:alignmentStyle});}};const areRequiredFieldsFilled=()=>{return formElements.every(el=>{if(el.required){return el.settings.label&&el.settings.label.trim()!=='';}return true;});};return/*#__PURE__*/_jsxs(\"div\",{className:\"form-builder-container\",style:{height:'100vh',overflow:'hidden'},children:[/*#__PURE__*/_jsxs(\"div\",{className:\"sidebar\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"form-name-section\",style:{marginBottom:'20px'},children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"form-name\",className:\"sidebar-label\",children:\"Form Name:\"}),/*#__PURE__*/_jsx(\"input\",{id:\"form-name\",type:\"text\",value:formName,onChange:e=>setFormName(e.target.value),placeholder:\"Enter form name\",className:\"form-input\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-label-section\",style:{marginBottom:'20px'},children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"form-label\",className:\"sidebar-label\",children:\"Label (Required):\"}),/*#__PURE__*/_jsx(\"input\",{id:\"form-label\",type:\"text\",value:formLabel,onChange:e=>setFormLabel(e.target.value),placeholder:\"Enter form label\",className:\"form-input\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"element-input-wrapper\",style:{display:'flex',gap:'10px'},children:[/*#__PURE__*/_jsxs(\"div\",{className:\"element-selector\",children:[/*#__PURE__*/_jsx(\"h4\",{children:\"Elements\"}),ELEMENT_TYPES.map(element=>/*#__PURE__*/_jsx(\"button\",{onClick:()=>addElement(element.id),className:\"element-button\",children:element.label},element.id))]}),/*#__PURE__*/_jsxs(\"div\",{className:\"input-selector\",children:[/*#__PURE__*/_jsx(\"h4\",{children:\"Input Fields\"}),INPUT_FIELDS.map(input=>/*#__PURE__*/_jsx(\"button\",{onClick:()=>addElement(input.id),className:\"input-button\",children:input.label},input.id))]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"load-section\",style:{marginBottom:'20px'},children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"saved-forms\",className:\"sidebar-label\",children:\"Load Saved Form:\"}),/*#__PURE__*/_jsxs(\"select\",{id:\"saved-forms\",value:selectedForm,onChange:e=>setSelectedForm(e.target.value),className:\"sidebar-select\",children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"-- Select a Form --\"}),savedForms.map(form=>/*#__PURE__*/_jsxs(\"option\",{value:form.name,children:[\" \",form.name,\" \"]},form.id))]}),/*#__PURE__*/_jsx(\"button\",{onClick:loadForm,className:\"load-form-button\",children:\"Load Form\"})]}),/*#__PURE__*/_jsx(\"button\",{onClick:saveForm,className:\"save-form-button\",children:\"Save Form\"}),/*#__PURE__*/_jsx(\"button\",{onClick:handleResetForm,className:\"reset-form-button\",children:\"Reset Form\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"form-builder\",ref:formContainerRef,style:{height:'100%',overflowY:'auto'},children:/*#__PURE__*/_jsxs(DndContext,{collisionDetection:closestCenter,onDragEnd:handleDragEnd,onDragStart:handleDragStart,children:[/*#__PURE__*/_jsx(SortableContext,{items:formElements,strategy:rectSortingStrategy,children:/*#__PURE__*/_jsx(\"div\",{className:\"form-preview\",children:formElements.map(element=>/*#__PURE__*/_jsx(SortableFormElement,{element:element,handleEditClick:handleEditClick,renderElementContent:renderElementContent},element.id))})}),draggingElement&&/*#__PURE__*/_jsx(DragOverlay,{children:/*#__PURE__*/_jsx(\"div\",{className:\"dragging-overlay\",children:\"Dragging\"})})]})}),selectedElement&&/*#__PURE__*/_jsxs(\"div\",{className:\"element-editor\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"element-editor-header\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Edit Element\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>{if(window.confirm('Are you sure you want to delete this element?')){removeElement(selectedElement.id);}},className:\"delete-element\",children:\"Remove Element\"})]}),/*#__PURE__*/_jsxs(\"label\",{children:[\"Key:\",/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:(draftSettings===null||draftSettings===void 0?void 0:draftSettings.key)||'',onChange:e=>setDraftSettings(prev=>({...prev,key:e.target.value})),disabled:(selectedElement===null||selectedElement===void 0?void 0:selectedElement.type)==='file'// Disable if the element type is 'file'\n})]}),/*#__PURE__*/_jsxs(\"label\",{children:[\"Label:\",/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:(draftSettings===null||draftSettings===void 0?void 0:draftSettings.label)||'',onChange:e=>setDraftSettings(prev=>({...prev,label:e.target.value}))})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"checkbox-wrapper\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Required:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",checked:(draftSettings===null||draftSettings===void 0?void 0:draftSettings.required)||false,onChange:e=>setDraftSettings(prev=>({...prev,required:e.target.checked}))})]}),selectedElement.type==='heading'&&/*#__PURE__*/_jsxs(\"label\",{children:[\"Header Level:\",/*#__PURE__*/_jsxs(\"select\",{value:(draftSettings===null||draftSettings===void 0?void 0:draftSettings.headerLevel)||'h1',onChange:e=>setDraftSettings(prev=>({...prev,headerLevel:e.target.value})),children:[/*#__PURE__*/_jsx(\"option\",{value:\"h1\",children:\"H1\"}),/*#__PURE__*/_jsx(\"option\",{value:\"h2\",children:\"H2\"}),/*#__PURE__*/_jsx(\"option\",{value:\"h3\",children:\"H3\"}),/*#__PURE__*/_jsx(\"option\",{value:\"h4\",children:\"H4\"}),/*#__PURE__*/_jsx(\"option\",{value:\"h5\",children:\"H5\"}),/*#__PURE__*/_jsx(\"option\",{value:\"h6\",children:\"H6\"})]})]}),/*#__PURE__*/_jsxs(\"label\",{children:[\"Alignment:\",/*#__PURE__*/_jsxs(\"select\",{value:(draftSettings===null||draftSettings===void 0?void 0:draftSettings.alignment)||'center',onChange:e=>setDraftSettings(prev=>({...prev,alignment:e.target.value})),children:[/*#__PURE__*/_jsx(\"option\",{value:\"left\",children:\"Left\"}),/*#__PURE__*/_jsx(\"option\",{value:\"center\",children:\"Center\"}),/*#__PURE__*/_jsx(\"option\",{value:\"right\",children:\"Right\"})]})]}),(selectedElement.type==='inputText'||selectedElement.type==='email')&&/*#__PURE__*/_jsxs(\"label\",{children:[\"Placeholder Text:\",/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:(draftSettings===null||draftSettings===void 0?void 0:draftSettings.placeholder)||'',onChange:e=>setDraftSettings(prev=>({...prev,placeholder:e.target.value}))})]}),selectedElement.type==='dateTime'&&/*#__PURE__*/_jsxs(\"label\",{children:[\"Use Current Date:\",/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",checked:(draftSettings===null||draftSettings===void 0?void 0:draftSettings.useCurrentDate)||false,onChange:e=>setDraftSettings(prev=>({...prev,useCurrentDate:e.target.checked}))})]}),selectedElement.type==='dropdown'&&/*#__PURE__*/_jsx(_Fragment,{children:selectedElement.type==='dropdown'&&/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"dropdown-options-container\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Dropdown Options:\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>setDraftSettings(prev=>({...prev,dropdownOptions:[...(prev.dropdownOptions||[]),'']})),className:\"add-option\",children:\"+\"})]}),draftSettings===null||draftSettings===void 0?void 0:(_draftSettings$dropdo=draftSettings.dropdownOptions)===null||_draftSettings$dropdo===void 0?void 0:_draftSettings$dropdo.map((option,idx)=>/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',alignItems:'center'},children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:option,onChange:e=>setDraftSettings(prev=>{const updatedOptions=[...prev.dropdownOptions];updatedOptions[idx]=e.target.value;return{...prev,dropdownOptions:updatedOptions};})}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>setDraftSettings(prev=>({...prev,dropdownOptions:prev.dropdownOptions.filter((_,i)=>i!==idx)})),style:{marginLeft:'10px',padding:'5px 10px',color:'white',backgroundColor:'red',borderRadius:'4px',cursor:'pointer'},children:\"X\"})]},idx))]})}),selectedElement.type==='boolean'&&/*#__PURE__*/_jsxs(\"label\",{children:[\"Default Boolean Value:\",/*#__PURE__*/_jsxs(\"select\",{value:(draftSettings===null||draftSettings===void 0?void 0:draftSettings.defaultBoolean)||'true',onChange:e=>setDraftSettings(prev=>({...prev,defaultBoolean:e.target.value})),children:[/*#__PURE__*/_jsx(\"option\",{value:\"true\",children:\"True\"}),/*#__PURE__*/_jsx(\"option\",{value:\"false\",children:\"False\"})]})]}),selectedElement.type==='number'&&/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(\"label\",{children:[\"Minimum Value:\",/*#__PURE__*/_jsx(\"input\",{type:\"number\",value:(draftSettings===null||draftSettings===void 0?void 0:draftSettings.min)||'',onChange:e=>setDraftSettings(prev=>({...prev,min:e.target.value}))})]}),/*#__PURE__*/_jsxs(\"label\",{children:[\"Maximum Value:\",/*#__PURE__*/_jsx(\"input\",{type:\"number\",value:(draftSettings===null||draftSettings===void 0?void 0:draftSettings.max)||'',onChange:e=>setDraftSettings(prev=>({...prev,max:e.target.value}))})]}),/*#__PURE__*/_jsxs(\"label\",{children:[\"Step Value:\",/*#__PURE__*/_jsx(\"input\",{type:\"number\",value:(draftSettings===null||draftSettings===void 0?void 0:draftSettings.step)||'',onChange:e=>setDraftSettings(prev=>({...prev,step:e.target.value}))})]}),/*#__PURE__*/_jsxs(\"label\",{children:[\"Default Value:\",/*#__PURE__*/_jsx(\"input\",{type:\"number\",value:(draftSettings===null||draftSettings===void 0?void 0:draftSettings.defaultValue)||'',onChange:e=>setDraftSettings(prev=>({...prev,defaultValue:e.target.value}))})]})]}),selectedElement.type==='password'&&/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(\"label\",{children:[\"Show Password Option:\",/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",checked:(draftSettings===null||draftSettings===void 0?void 0:draftSettings.showPasswordOption)||false,onChange:e=>setDraftSettings(prev=>({...prev,showPasswordOption:e.target.checked}))})]}),/*#__PURE__*/_jsxs(\"label\",{children:[\"Minimum Password Length:\",/*#__PURE__*/_jsx(\"input\",{type:\"number\",value:(draftSettings===null||draftSettings===void 0?void 0:draftSettings.passwordLength)||'',onChange:e=>setDraftSettings(prev=>({...prev,passwordLength:e.target.value}))})]}),/*#__PURE__*/_jsxs(\"label\",{children:[\"Requires Symbols:\",/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",checked:(draftSettings===null||draftSettings===void 0?void 0:draftSettings.requireSymbols)||false,onChange:e=>setDraftSettings(prev=>({...prev,requireSymbols:e.target.checked}))})]}),/*#__PURE__*/_jsxs(\"label\",{children:[\"Requires Numbers:\",/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",checked:(draftSettings===null||draftSettings===void 0?void 0:draftSettings.requireNumbers)||false,onChange:e=>setDraftSettings(prev=>({...prev,requireNumbers:e.target.checked}))})]})]}),/*#__PURE__*/_jsx(\"button\",{onClick:applyDraftChanges,className:\"save-changes\",disabled:!areRequiredFieldsFilled(),children:\"Save Changes\"}),/*#__PURE__*/_jsx(\"button\",{onClick:cancelChanges,className:\"cancel-button\",children:\"Cancel\"})]})]});};const SortableFormElement=_ref3=>{var _element$settings4;let{element,handleEditClick,renderElementContent}=_ref3;const{attributes,listeners,setNodeRef,transform,transition}=useSortable({id:element.id});const style={transform:transform?`translate3d(${transform.x}px, ${transform.y}px, 0)`:undefined,transition,backgroundColor:((_element$settings4=element.settings)===null||_element$settings4===void 0?void 0:_element$settings4.backgroundColor)||'inherit'};return/*#__PURE__*/_jsxs(\"div\",{ref:setNodeRef,style:style,className:\"form-element\",onClick:()=>handleEditClick(element),children:[renderElementContent(element),/*#__PURE__*/_jsx(\"button\",{className:\"drag-handle\",...listeners,...attributes,onMouseDown:e=>e.stopPropagation(),children:\"Drag\"})]});};export default FormBuilder;","map":{"version":3,"names":["React","useState","useRef","useEffect","DndContext","DragOverlay","closestCenter","arrayMove","SortableContext","useSortable","rectSortingStrategy","Papa","Button","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","ELEMENT_TYPES","id","label","INPUT_FIELDS","type","FormBuilder","_draftSettings$dropdo","formElements","setFormElements","formName","setFormName","formLabel","setFormLabel","formTags","setFormTags","savedForms","setSavedForms","selectedForm","setSelectedForm","selectedElement","setSelectedElement","draftSettings","setDraftSettings","draggingElement","setDraggingElement","formContainerRef","selectedFileName","setSelectedFileName","SUBMIT_BUTTON_ID","formToLoad","setFormToLoad","console","log","tableElement","find","el","settings","csvData","some","addSubmitButton","loadSavedForms","response","fetch","ok","Error","status","data","json","loadedForms","map","form","name","error","loadForm","alert","_xmlDoc$querySelector","_xmlDoc$querySelector2","encodeURIComponent","formData","parser","DOMParser","xmlDoc","parseFromString","xml_data","loadedName","querySelector","textContent","loadedLabel","loadedTags","Array","from","querySelectorAll","tag","elements","index","_el$querySelector","_el$querySelector2","_el$querySelector3","_el$querySelector4","_el$querySelector5","_el$querySelector6","_el$querySelector7","_el$querySelector8","optionsNode","options","opt","Date","now","key","required","alignment","headerLevel","placeholder","dropdownOptions","filter","join","prev","generateKey","existingCount","length","addElement","newKey","defaultLabel","charAt","toUpperCase","slice","newElement","toString","useCurrentDate","defaultBoolean","min","max","step","defaultValue","showPasswordOption","passwordLength","requireSymbols","requireNumbers","textColor","fontFamily","submitIndex","findIndex","newFormElements","splice","isKeyUnique","handleSubmit","method","headers","body","JSON","stringify","then","catch","handleImageUpload","event","elementId","file","target","files","reader","FileReader","onload","e","imageSrc","result","readAsDataURL","saveForm","tags","split","trim","convertToXML","obj","xml","isArray","forEach","option","element","cell","xmlData","overwrite","window","confirm","overwriteResponse","message","removeElement","handleEditClick","_element$settings","_element$settings2","applyDraftChanges","updateElementSettings","undefined","cancelChanges","newSettings","handleDragStart","_ref","active","handleDragEnd","_ref2","over","oldIndex","newIndex","handleCSVUpload","endsWith","parse","complete","header","handleResetForm","validatePassword","password","test","renderElementContent","_element$settings3","_settings$dropdownOpt","isBeingEdited","alignmentStyle","textAlign","wrapperStyle","display","flexDirection","alignItems","width","marginBottom","HeaderTag","margin","style","justifyContent","children","onClick","className","padding","borderRadius","backgroundColor","color","value","onChange","prevElements","border","isValid","boxShadow","onBlur","fontSize","marginTop","accept","src","alt","maxWidth","height","tableData","htmlFor","cursor","marginLeft","borderCollapse","row","rowIndex","cellIndex","toLocaleDateString","readOnly","idx","showPassword","marginRight","checked","areRequiredFieldsFilled","every","overflow","gap","input","ref","overflowY","collisionDetection","onDragEnd","onDragStart","items","strategy","SortableFormElement","disabled","updatedOptions","_","i","_ref3","_element$settings4","attributes","listeners","setNodeRef","transform","transition","x","y","onMouseDown","stopPropagation"],"sources":["C:/Users/abarbas/Desktop/soar_web_forms/src/components/FormBuilder.js"],"sourcesContent":["import React, { useState, useRef, useEffect } from 'react';\r\nimport { DndContext, DragOverlay, closestCenter } from '@dnd-kit/core';\r\nimport { arrayMove, SortableContext, useSortable, rectSortingStrategy } from '@dnd-kit/sortable';\r\nimport Papa from 'papaparse';\r\nimport './FormBuilder.css';\r\nimport Button from '@splunk/react-ui/Button';\r\n\r\nconst ELEMENT_TYPES = [\r\n  { id: 'heading', label: 'Heading' },\r\n  { id: 'text', label: 'Text' },\r\n  { id: 'divider', label: 'Divider' },\r\n  //{ id: 'button', label: 'Button' },\r\n  //{ id: 'image', label: 'Image' },\r\n  { id: 'table', label: 'Table' }\r\n];\r\n\r\nconst INPUT_FIELDS = [\r\n  { id: 'inputText', label: 'Input Text', type: 'text' },\r\n  { id: 'email', label: 'Email', type: 'email' },\r\n  //{ id: 'password', label: 'Password', type: 'password' }, \r\n  { id: 'dateTime', label: 'Date or Time', type: 'datetime-local' },\r\n  { id: 'dropdown', label: 'Dropdown', type: 'dropdown' },\r\n  { id: 'boolean', label: 'Boolean', type: 'dropdown' },\r\n  { id: 'number', label: 'Number', type: 'number' },\r\n  { id: 'file', label: 'File Upload', type: 'file' }\r\n\r\n];\r\n\r\nconst FormBuilder = () => {\r\n  const [formElements, setFormElements] = useState([]);\r\n  const [formName, setFormName] = useState('');\r\n  const [formLabel, setFormLabel] = useState('');\r\n  const [formTags, setFormTags] = useState('');\r\n  const [savedForms, setSavedForms] = useState([]); // Add state to store list of saved forms\r\n  const [selectedForm, setSelectedForm] = useState(''); // Add state to track selected form\r\n  const [selectedElement, setSelectedElement] = useState(null);\r\n  const [draftSettings, setDraftSettings] = useState(null);\r\n  const [draggingElement, setDraggingElement] = useState(null);\r\n  const formContainerRef = useRef(null);\r\n  const [selectedFileName, setSelectedFileName] = useState('');\r\n  const SUBMIT_BUTTON_ID = 'submit-button';\r\n  const [formToLoad, setFormToLoad] = useState(null); // Hold the form name to load after clearing\r\n  \r\n\r\nuseEffect(() => {\r\n  console.log('Form Elements Updated:', formElements);\r\n  const tableElement = formElements.find((el) => el.type === 'table');\r\n  if (tableElement) {\r\n    console.log('Table Element Found:', tableElement);\r\n    console.log('CSV Data in State:', tableElement.settings.csvData);\r\n  }\r\n}, [formElements]);\r\n\r\nuseEffect(() => {\r\n  if (!formElements.some(el => el.id === SUBMIT_BUTTON_ID)) {\r\n    addSubmitButton();\r\n  }\r\n}, [formElements]);\r\n\r\nuseEffect(() => {\r\n  loadSavedForms();\r\n}, []);\r\n\r\nconst loadSavedForms = async () => {\r\n  try {\r\n    const response = await fetch('http://localhost:5000/forms');\r\n    if (!response.ok) {\r\n      throw new Error(`Failed to fetch forms: ${response.status}`);\r\n    }\r\n    const data = await response.json();\r\n    const loadedForms = data.map(form => ({\r\n      id: form.id, // Ensure this is present\r\n      name: form.name // Ensure this is present\r\n    }));\r\n    setSavedForms(loadedForms); // Set the forms to state\r\n  } catch (error) {\r\n    console.error('Error loading forms:', error);\r\n  }\r\n};\r\n\r\nconst loadForm = async () => {\r\n  if (!selectedForm) {\r\n    alert('Please select a form to load.');\r\n    return;\r\n  }\r\n\r\n  try {\r\n    const response = await fetch(`http://localhost:5000/forms/${encodeURIComponent(selectedForm)}`);\r\n    if (!response.ok) {\r\n      throw new Error(`Failed to load form: ${response.status}`);\r\n    }\r\n\r\n    const formData = await response.json();\r\n    const parser = new DOMParser();\r\n    const xmlDoc = parser.parseFromString(formData.xml_data, 'application/xml');\r\n    const loadedName = xmlDoc.querySelector('form > name')?.textContent || '';\r\n    const loadedLabel = xmlDoc.querySelector('form > label')?.textContent || '';\r\n    const loadedTags = Array.from(xmlDoc.querySelectorAll('form > tags > tag')).map(tag => tag.textContent);\r\n\r\n    const elements = Array.from(xmlDoc.querySelectorAll('elements > element')).map((el, index) => {\r\n      const type = el.querySelector('type')?.textContent || 'text';\r\n      const optionsNode = el.querySelector('dropdownOptions');\r\n      const options = optionsNode ? Array.from(optionsNode.querySelectorAll('option')).map(opt => opt.textContent) : [];\r\n\r\n      return {\r\n        id: `element-${Date.now()}-${index}`,\r\n        type,\r\n        key: el.querySelector('key')?.textContent || '',\r\n        label: el.querySelector('label')?.textContent || '',\r\n        required: el.querySelector('required')?.textContent === 'true',\r\n        alignment: el.querySelector('alignment')?.textContent || 'center',\r\n        settings: {\r\n          headerLevel: el.querySelector('headerLevel')?.textContent || 'h1',\r\n          placeholder: el.querySelector('placeholder')?.textContent || '',\r\n          dropdownOptions: options,\r\n          label: el.querySelector('label')?.textContent || '' // Set label directly in settings\r\n        }\r\n      };\r\n    }).filter(el => el.type !== 'button'); // Exclude submit button\r\n\r\n    setFormName(loadedName);\r\n    setFormLabel(loadedLabel);\r\n    setFormTags(loadedTags.join(', '));\r\n    setFormElements(elements);\r\n\r\n    console.log(`Form \"${selectedForm}\" loaded successfully!`);\r\n  } catch (error) {\r\n    console.error('Error loading form:', error);\r\n    alert('Failed to load form data.');\r\n  }\r\n};\r\n\r\nconst addSubmitButton = () => {\r\n  setFormElements(prev => [\r\n    ...prev,\r\n    {\r\n      id: SUBMIT_BUTTON_ID,\r\n      type: 'button',\r\n      key: 'Submit',\r\n      label: 'Submit',\r\n      alignment: 'center',\r\n      required: false,\r\n      settings: {},\r\n    },\r\n  ]);\r\n};\r\n\r\nconst generateKey = (type) => {\r\n  // Count how many elements of this type already exist in formElements\r\n  const existingCount = formElements.filter((el) => el.type === type).length;\r\n  return `${type}${existingCount + 1}`; // e.g., \"inputText1\", \"inputText2\"\r\n};\r\n\r\nconst addElement = (type) => {\r\n  const newKey = generateKey(type);\r\n  const defaultLabel = `${type.charAt(0).toUpperCase() + type.slice(1)}`; // Generate a default label based on the type\r\n\r\n  const newElement = {\r\n      id: Date.now().toString(),\r\n      type,\r\n      key: newKey,\r\n      label: defaultLabel,\r\n      alignment: 'center',\r\n      settings: {\r\n          label: defaultLabel, // Set the label directly in settings\r\n          headerLevel: 'h1',\r\n          placeholder: type === 'email' ? 'Email Address' : type === 'password' ? 'Enter password' : 'Enter text here...',\r\n          useCurrentDate: false,\r\n          defaultBoolean: 'true',\r\n          dropdownOptions: [],\r\n          min: '',\r\n          max: '',\r\n          step: '',\r\n          defaultValue: '',\r\n          showPasswordOption: false,\r\n          passwordLength: '',\r\n          requireSymbols: false,\r\n          requireNumbers: false,\r\n          csvData: []\r\n      },\r\n      required: false,\r\n      textColor: '#ffffff',\r\n      fontFamily: 'Arial',\r\n  };\r\n\r\n  setFormElements((prev) => {\r\n      const submitIndex = prev.findIndex((el) => el.id === SUBMIT_BUTTON_ID);\r\n      const newFormElements = [...prev];\r\n      newFormElements.splice(submitIndex, 0, newElement);\r\n      return newFormElements;\r\n  });\r\n};\r\n\r\n  const isKeyUnique = (key) => {\r\n    return !formElements.some((el) => el.key === key && el.id !== selectedElement?.id);\r\n  };\r\n  const handleSubmit = () => {\r\n    const formData = formElements.filter(el => el.id !== SUBMIT_BUTTON_ID); // Exclude submit button from data\r\n    console.log('Form submitted:', formData);\r\n\r\n    // Example API call\r\n    fetch('/api/submit-form', {\r\n      method: 'POST',\r\n      headers: { 'Content-Type': 'application/json' },\r\n      body: JSON.stringify({ elements: formData }),\r\n    })\r\n      .then(response => response.json())\r\n      .then(data => console.log('Form submission response:', data))\r\n      .catch(error => console.error('Error submitting form:', error));\r\n  };\r\n\r\n  const handleImageUpload = (event, elementId) => {\r\n    const file = event.target.files[0];\r\n    if (file) {\r\n      const reader = new FileReader();\r\n      reader.onload = (e) => {\r\n        const imageSrc = e.target.result;\r\n        setFormElements((prev) =>\r\n          prev.map((el) =>\r\n            el.id === elementId\r\n              ? { ...el, settings: { ...el.settings, imageSrc } }\r\n              : el\r\n          )\r\n        );\r\n      };\r\n      reader.readAsDataURL(file);\r\n    }\r\n  };\r\n  \r\n  const saveForm = async () => {\r\n    if (!formName) {\r\n      alert('Please enter a name for the form.');\r\n      return;\r\n    }\r\n  \r\n    // Define formData object excluding xmlData initially\r\n    const formData = {\r\n      name: formName,\r\n      label: formLabel,\r\n      tags: formTags ? formTags.split(',').map(tag => tag.trim()) : [],\r\n      elements: formElements,\r\n    };\r\n  \r\n    // Convert formData to XML format and store it in xmlData\r\n    const convertToXML = (obj) => {\r\n      let xml = '';\r\n      for (let key in obj) {\r\n        if (Array.isArray(obj[key])) {\r\n          if (key === 'dropdownOptions') {\r\n            // Special handling for dropdown options\r\n            xml += `<${key}>`;\r\n            obj[key].forEach((option) => {\r\n              xml += `<option>${option}</option>`;\r\n            });\r\n            xml += `</${key}>`;\r\n          } else {\r\n            xml += `<${key}>`;\r\n            obj[key].forEach((element) => {\r\n              if (Array.isArray(element)) {\r\n                xml += '<row>';\r\n                element.forEach((cell) => {\r\n                  xml += `<cell>${cell}</cell>`;\r\n                });\r\n                xml += '</row>';\r\n              } else {\r\n                xml += `<element>${convertToXML(element)}</element>`;\r\n              }\r\n            });\r\n            xml += `</${key}>`;\r\n          }\r\n        } else if (typeof obj[key] === 'object') {\r\n          xml += `<${key}>${convertToXML(obj[key])}</${key}>`;\r\n        } else {\r\n          xml += `<${key}>${obj[key]}</${key}>`;\r\n        }\r\n      }\r\n      return xml;\r\n    };\r\n    \r\n    // Now generate xmlData from formData and add it to the formData object\r\n    formData.xmlData = `<form>${convertToXML(formData)}</form>`;\r\n    \r\n    // Send form data to backend\r\n    try {\r\n      const response = await fetch('http://localhost:5000/save_form', {\r\n        method: 'POST',\r\n        headers: {\r\n          'Content-Type': 'application/json',\r\n        },\r\n        body: JSON.stringify({\r\n          ...formData, // Spread formData to include all fields, including xmlData\r\n          overwrite: false, // Default overwrite to false\r\n        }),\r\n      });\r\n  \r\n      if (response.status === 409) {\r\n        // Prompt the user to confirm overwrite\r\n        if (window.confirm('A form with this name already exists. Do you want to overwrite it?')) {\r\n          formData.overwrite = true;\r\n          const overwriteResponse = await fetch('http://localhost:5000/save_form', {\r\n            method: 'POST',\r\n            headers: {\r\n              'Content-Type': 'application/json',\r\n            },\r\n            body: JSON.stringify(formData),\r\n          });\r\n  \r\n          if (!overwriteResponse.ok) throw new Error('Failed to overwrite form');\r\n          alert(`Form \"${formName}\" overwritten successfully!`);\r\n        } else {\r\n          alert('Save cancelled.');\r\n        }\r\n      } else if (!response.ok) {\r\n        throw new Error('Failed to save form');\r\n      } else {\r\n        alert(`Form \"${formName}\" saved successfully!`);\r\n      }\r\n    } catch (error) {\r\n      console.error('Error:', error);\r\n      alert(`Error saving form: ${error.message}`);\r\n    }\r\n  };\r\n  \r\n  \r\n  const removeElement = (id) => {\r\n    if (id === SUBMIT_BUTTON_ID) return; // Prevent deletion of the Submit button\r\n    setFormElements(prev => prev.filter(el => el.id !== id));\r\n    if (selectedElement?.id === id) {\r\n      setSelectedElement(null);\r\n    }\r\n  };\r\n\r\n  const handleEditClick = (element) => {\r\n    setSelectedElement(element);\r\n    setDraftSettings({\r\n        ...element.settings,\r\n        key: element.key || '',\r\n        label: element.label,\r\n        alignment: element.alignment,\r\n        required: element.required,\r\n        placeholder: element.settings?.placeholder,\r\n        csvData: element.settings?.csvData || [], // Ensure csvData is included\r\n    });\r\n};\r\n \r\n  const applyDraftChanges = () => {\r\n    if (selectedElement && draftSettings) {\r\n        console.log('Applying draft changes:', { selectedElement, draftSettings });\r\n\r\n        if (isKeyUnique(draftSettings.key)) {\r\n            updateElementSettings(selectedElement.id, {\r\n                ...selectedElement,\r\n                ...draftSettings,\r\n                settings: {\r\n                    ...selectedElement.settings,\r\n                    ...draftSettings,\r\n                    csvData: draftSettings.csvData !== undefined\r\n                        ? draftSettings.csvData\r\n                        : selectedElement.settings.csvData, // Preserve csvData if not in draftSettings\r\n                },\r\n            });\r\n\r\n            console.log('Updated element:', selectedElement);\r\n            setSelectedElement(null);\r\n            setDraftSettings(null);\r\n        } else {\r\n            alert('The key must be unique. Please choose another.');\r\n        }\r\n    }\r\n};\r\n\r\n  const cancelChanges = () => {\r\n    setSelectedElement(null);\r\n    setDraftSettings(null);\r\n  };\r\n\r\n  const updateElementSettings = (id, newSettings) => {\r\n    console.log('Updating element settings for ID:', id);\r\n    console.log('New settings before merge:', newSettings);\r\n\r\n    setFormElements((prev) =>\r\n        prev.map((el) =>\r\n            el.id === id.toString()\r\n                ? {\r\n                    ...el,\r\n                    ...newSettings,\r\n                    settings: {\r\n                        ...el.settings,\r\n                        ...newSettings,\r\n                        csvData: newSettings.csvData !== undefined\r\n                            ? newSettings.csvData\r\n                            : el.settings.csvData, // Preserve existing csvData if not overwritten\r\n                    },\r\n                }\r\n                : el\r\n        )\r\n    );\r\n\r\n    console.log('Updated form elements:', formElements);\r\n};\r\n\r\n  const handleDragStart = ({ active }) => {\r\n    setDraggingElement(active.id);\r\n  };\r\n\r\n  const handleDragEnd = ({ active, over }) => {\r\n    if (over && active.id !== over.id) {\r\n      const oldIndex = formElements.findIndex((el) => el.id === active.id);\r\n      const newIndex = formElements.findIndex((el) => el.id === over.id);\r\n      setFormElements((prev) => arrayMove(prev, oldIndex, newIndex));\r\n    }\r\n    setDraggingElement(null);\r\n  };\r\n\r\n  const handleCSVUpload = (event, elementId) => {\r\n    const file = event.target.files[0];\r\n    if (file) {\r\n      if (!file.name.endsWith('.csv')) {\r\n        alert('Please upload a valid .csv file.');\r\n        return;\r\n      }\r\n      Papa.parse(file, {\r\n        complete: (result) => {\r\n          const csvData = result.data;\r\n          console.log('Parsed CSV Data:', csvData);\r\n  \r\n          setFormElements((prev) =>\r\n            prev.map((el) =>\r\n              el.id === elementId\r\n                ? {\r\n                    ...el,\r\n                    csvData, // Update the csvData property\r\n                    settings: { ...el.settings, csvData }\r\n                  }\r\n                : el\r\n            )\r\n          );\r\n        },\r\n        header: false, // Adjust as needed\r\n      });\r\n    }\r\n  };\r\n  \r\n  const handleResetForm = () => {\r\n    if (window.confirm('Are you sure you want to reset the form?')) {\r\n      setFormElements([]);   // Clear form elements\r\n      setFormName('');       // Clear Form Name\r\n      setFormLabel('');      // Clear Label\r\n      setSelectedElement(null); // Close the form editor by deselecting the element\r\n    }\r\n  };\r\n  \r\n\r\n  const validatePassword = (password, settings) => {\r\n    if (settings?.passwordLength && password.length < settings.passwordLength) {\r\n      return false;\r\n    }\r\n    if (settings?.requireSymbols && !/[!@#$%^&*(),.?\":{}|<>]/.test(password)) {\r\n      return false;\r\n    }\r\n    if (settings?.requireNumbers && !/[0-9]/.test(password)) {\r\n      return false;\r\n    }\r\n    return true;\r\n  };\r\n\r\n  const renderElementContent = (element) => {\r\n    const isBeingEdited = selectedElement?.id === element.id;\r\n    const settings = isBeingEdited ? draftSettings : element.settings;\r\n  \r\n    const alignmentStyle = {\r\n      textAlign: settings?.alignment || 'center',\r\n    };\r\n  \r\n    // Use the element key as the default label if the label isn't set\r\n    // const displayLabel = settings?.label || element.key || element.label;\r\n    const wrapperStyle = {\r\n      display: 'flex',\r\n      flexDirection: 'column',\r\n      alignItems: settings?.alignment === 'left' ? 'flex-start' : settings?.alignment === 'right' ? 'flex-end' : 'center',\r\n      width: '100%',\r\n      marginBottom: '10px',\r\n    };\r\n\r\n    switch (element.type) {\r\n      case 'heading': {\r\n        const HeaderTag = settings?.headerLevel || 'h1';\r\n        const alignmentStyle = { \r\n          textAlign: settings?.alignment || 'center', \r\n          width: '100%', \r\n          margin: '0 auto'  // Ensures it's centered\r\n        };\r\n      \r\n        return (\r\n          <div style={{ display: 'flex', justifyContent: 'center', width: '100%' }}>\r\n            <HeaderTag style={alignmentStyle}>\r\n              {settings?.label || element.label}\r\n            </HeaderTag>\r\n          </div>\r\n        );\r\n      }    \r\n      case 'text':\r\n        return <p style={alignmentStyle}>{settings.label}</p>;\r\n      case 'button':\r\n        return (\r\n          <div style={{ display: 'flex', justifyContent: element.alignment || 'center', width: '100%' }}>\r\n            <button\r\n              onClick={element.id === SUBMIT_BUTTON_ID ? handleSubmit : undefined} // Submit button triggers API\r\n              className=\"custom-button\"\r\n              style={{ padding: '10px 20px', borderRadius: '6px', margin: '5px', backgroundColor: '#007bff', color: 'white' }}\r\n            >\r\n              {element.label}\r\n            </button>\r\n          </div>\r\n        );\r\n        case 'inputText':\r\n          return (\r\n            <div style={wrapperStyle}>\r\n              {/* Display the label if it exists */}\r\n              {settings?.label && <label>{settings.label}</label>}\r\n              <input\r\n                type=\"text\"\r\n                placeholder={settings?.placeholder || ''}\r\n                required={settings?.required}\r\n                value={settings?.value || ''} // Bind value to state\r\n                onChange={(e) => {\r\n                  setFormElements((prevElements) =>\r\n                    prevElements.map((el) =>\r\n                      el.id === element.id\r\n                        ? { ...el, settings: { ...el.settings, value: e.target.value } }\r\n                        : el\r\n                    )\r\n                  );\r\n                }}\r\n                style={{\r\n                  borderRadius: '8px',\r\n                  padding: '10px',\r\n                  border: '1px solid #ced4da',\r\n                  textAlign: 'center',\r\n                }}\r\n              />\r\n            </div>\r\n          );\r\n        \r\n      case 'email':\r\n        return (\r\n        <div style={wrapperStyle}>\r\n          {settings?.label && <label>{settings.label}</label>}\r\n            <input\r\n              type=\"email\"\r\n              placeholder={settings?.placeholder || ''}\r\n              required={settings?.required}\r\n              style={{\r\n                borderRadius: '8px',\r\n                padding: '10px',\r\n                border: settings?.isValid === false ? '2px solid #ff0000' : '1px solid #ced4da',\r\n                boxShadow: settings?.isValid === false ? '0 0 5px #ff0000' : 'none',\r\n                textAlign: 'center'\r\n              }}\r\n              onBlur={(e) => {\r\n                if (e.target.value.trim() !== '') {\r\n                  const isValid = /^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/.test(e.target.value);\r\n                  updateElementSettings(element.id, { ...settings, isValid });\r\n                }\r\n              }}\r\n            />\r\n            {!settings?.isValid && settings?.isValid !== undefined && (\r\n              <span style={{ color: '#ff0000', fontSize: '0.8em', marginTop: '5px' }}>Invalid email address</span>\r\n            )}\r\n          </div>\r\n        );\r\n      case 'divider':\r\n        return <hr style={{ ...alignmentStyle, width: '100%' }} />;\r\n      case 'image':\r\n          return (\r\n            <div style={wrapperStyle}>\r\n          {settings?.label && <label>{settings.label}</label>}              <label className=\"custom-file-label\">\r\n                Choose Image\r\n                <input\r\n                  type=\"file\"\r\n                  className=\"custom-file-input\"\r\n                  accept=\"image/*\"\r\n                  onChange={(e) => handleImageUpload(e, element.id)}\r\n                />\r\n              </label>\r\n              {settings?.imageSrc ? (\r\n                <img\r\n                  src={settings.imageSrc}\r\n                  alt=\"Uploaded\"\r\n                  style={{ maxWidth: '100%', height: 'auto', borderRadius: '8px', marginTop: '10px' }}\r\n                />\r\n              ) : (\r\n                <img\r\n                  src=\"https://via.placeholder.com/150\"\r\n                  alt=\"Placeholder\"\r\n                  style={{ maxWidth: '100%', height: 'auto', borderRadius: '8px', marginTop: '10px' }}\r\n                />\r\n              )}\r\n            </div>\r\n          );       \r\n      case 'file':\r\n          return (\r\n          <div style={wrapperStyle}>\r\n          {settings?.label && <label>{settings.label}</label>}\r\n              <label className=\"custom-file-label\">\r\n                Upload File\r\n                <input\r\n                  type=\"file\"\r\n                  className=\"custom-file-input\"\r\n                  onChange={(e) => handleCSVUpload(e, element.id)}\r\n                  accept=\".csv\"\r\n                />\r\n              </label>\r\n              <span className=\"file-name\">No file chosen</span>\r\n            </div>\r\n          );\r\n      case 'table':\r\n          const tableData = element.settings?.csvData || [];\r\n          console.log('Rendering Table with Data:', tableData);\r\n    \r\n          return (\r\n            <div style={wrapperStyle}>\r\n          {settings?.label && <label>{settings.label}</label>}<div>\r\n                {/* Styled file input and label */}\r\n                <div style={{ marginBottom: '10px' }}>\r\n                  <input\r\n                    type=\"file\"\r\n                    accept=\".csv\"\r\n                    id={`file-upload-${element.id}`}\r\n                    onChange={(e) => handleCSVUpload(e, element.id)}\r\n                    style={{ display: 'none' }} // Hide default input\r\n                  />\r\n                  <label\r\n                    htmlFor={`file-upload-${element.id}`}\r\n                    style={{\r\n                      backgroundColor: '#007bff',\r\n                      color: 'white',\r\n                      padding: '10px 20px',\r\n                      borderRadius: '6px',\r\n                      cursor: 'pointer',\r\n                      display: 'inline-block',\r\n                    }}\r\n                  >\r\n                    Upload CSV File\r\n                  </label>\r\n                  <span style={{ marginLeft: '10px' }}>\r\n                    {selectedFileName || 'No file chosen'}\r\n                  </span>\r\n                </div>\r\n    \r\n                <table style={{ margin: '0 auto', borderCollapse: 'collapse', width: '100%' }}>\r\n                  <tbody>\r\n                    {tableData.length > 0 ? (\r\n                      tableData.map((row, rowIndex) => (\r\n                        <tr key={`row-${rowIndex}`}>\r\n                          {row.map((cell, cellIndex) => (\r\n                            <td\r\n                              key={`cell-${rowIndex}-${cellIndex}`}\r\n                              style={{ border: '1px solid #ddd', padding: '8px' }}\r\n                            >\r\n                              {cell}\r\n                            </td>\r\n                          ))}\r\n                        </tr>\r\n                      ))\r\n                    ) : (\r\n                      <tr>\r\n                        <td style={{ textAlign: 'center' }}>No Data Available</td>\r\n                      </tr>\r\n                    )}\r\n                  </tbody>\r\n                </table>\r\n              </div>\r\n            </div>\r\n          );\r\n      case 'dateTime':\r\n      return (\r\n        <div style={wrapperStyle}>\r\n          {settings?.label && <label>{settings.label}</label>}\r\n           {settings?.useCurrentDate ? (\r\n\r\n            <input\r\n              type=\"text\"\r\n              value={new Date().toLocaleDateString('en-US')}\r\n              readOnly\r\n              style={{\r\n                borderRadius: '8px',\r\n                padding: '10px',\r\n                border: '1px solid #ced4da',\r\n                textAlign: 'center'\r\n              }}\r\n            />\r\n          ) : (\r\n            <input\r\n              type=\"date\"\r\n              style={{\r\n                borderRadius: '8px',\r\n                padding: '10px',\r\n                border: '1px solid #ced4da',\r\n                textAlign: 'center'\r\n              }}\r\n            />\r\n          )}\r\n        </div>\r\n      );    \r\n      case 'dropdown':\r\n        return (\r\n          <div style={wrapperStyle}>\r\n          {settings?.label && <label>{settings.label}</label>}\r\n          <select\r\n              style={{\r\n                borderRadius: '8px',\r\n                padding: '10px',\r\n                border: '1px solid #ced4da',\r\n                textAlign: 'center',\r\n              }}\r\n            >\r\n              <option value=\"\">Select an option</option>\r\n              {settings?.dropdownOptions?.map((option, idx) => (\r\n                <option key={idx} value={option}>\r\n                  {option}\r\n                </option>\r\n              ))}\r\n            </select>\r\n          </div>\r\n        );    \r\n      case 'boolean':\r\n        return (\r\n        <div style={wrapperStyle}>\r\n          {settings?.label && <label>{settings.label}</label>}\r\n            <select\r\n              value={settings?.defaultBoolean || 'true'}\r\n              onChange={(e) => updateElementSettings(element.id, { ...settings, defaultBoolean: e.target.value })}\r\n              style={{\r\n                borderRadius: '8px',\r\n                padding: '10px',\r\n                border: '1px solid #ced4da',\r\n                textAlign: 'center'\r\n              }}\r\n            >\r\n              <option value=\"true\">True</option>\r\n              <option value=\"false\">False</option>\r\n            </select>\r\n          </div>\r\n        );      \r\n      case 'number':\r\n        return (\r\n        <div style={wrapperStyle}>\r\n          {settings?.label && <label>{settings.label}</label>}\r\n            <input\r\n              type=\"number\"\r\n              min={settings?.min}\r\n              max={settings?.max}\r\n              step={settings?.step}\r\n              defaultValue={settings?.defaultValue}\r\n              required={settings?.required}\r\n              style={{\r\n                borderRadius: '8px',\r\n                padding: '10px',\r\n                border: '1px solid #ced4da',\r\n                textAlign: 'center'\r\n              }}\r\n            />\r\n          </div>\r\n        );\r\n      case 'password':\r\n      return (\r\n        <div\r\n          style={{\r\n            width: '100%',\r\n            display: 'flex',\r\n            flexDirection: 'column',\r\n            alignItems: settings?.alignment === 'left' ? 'flex-start' : settings?.alignment === 'right' ? 'flex-end' : 'center',\r\n            justifyContent: 'center',\r\n          }}\r\n        >\r\n          {/* Password Input Field and Show Password Option */}\r\n          <div style={wrapperStyle}>\r\n          {settings?.label && <label>{settings.label}</label>}<input\r\n              type={settings?.showPasswordOption && settings?.showPassword ? 'text' : 'password'}\r\n              placeholder={settings?.placeholder || 'Enter password'}\r\n              required={settings?.required}\r\n              onBlur={(e) => {\r\n                const isValid = validatePassword(e.target.value, settings);\r\n                updateElementSettings(element.id, { ...settings, isValid });\r\n              }}\r\n              style={{\r\n                borderRadius: '8px',\r\n                padding: '10px',\r\n                width: '300px', // Adjust the width as needed\r\n                border: settings?.isValid === false ? '2px solid #ff0000' : '1px solid #ced4da',\r\n                textAlign: 'left', // Ensures the placeholder text stays aligned left\r\n                marginRight: '10px',\r\n              }}\r\n            />\r\n            {settings?.showPasswordOption && (\r\n              <label style={{ display: 'flex', alignItems: 'center', marginLeft: '10px' }}>\r\n                <input\r\n                  type=\"checkbox\"\r\n                  checked={settings?.showPassword || false}\r\n                  onChange={(e) => updateElementSettings(element.id, { ...settings, showPassword: e.target.checked })}\r\n                  style={{ marginRight: '5px' }}\r\n                />\r\n                Show Password\r\n              </label>\r\n            )}\r\n          </div>\r\n          {/* Password Requirements */}\r\n          <div style={{ marginTop: '10px', textAlign: settings?.alignment || 'center', width: '100%', display: 'flex', flexDirection: 'column', alignItems: settings?.alignment === 'left' ? 'flex-start' : settings?.alignment === 'right' ? 'flex-end' : 'center' }}>\r\n            {settings?.passwordLength && <p style={{ marginBottom: '5px' }}>Requires Minimum Length: {settings.passwordLength}</p>}\r\n            {settings?.requireSymbols && <p style={{ marginBottom: '5px' }}>Requires Symbols: Yes</p>}\r\n            {settings?.requireNumbers && <p>Requires Numbers: Yes</p>}\r\n          </div>\r\n          {/* Validation Error */}\r\n          {!settings?.isValid && settings?.isValid !== undefined && (\r\n            <span style={{ color: '#ff0000', fontSize: '0.8em', marginTop: '5px' }}>Password does not meet requirements</span>\r\n          )}\r\n        </div>\r\n      );\r\n      default:\r\n        return (\r\n          <input\r\n            type={element.type}\r\n            placeholder={settings?.placeholder ||''}\r\n            required={settings?.required}\r\n            style={alignmentStyle}\r\n          />\r\n        );\r\n    }\r\n  };\r\n  \r\n  const areRequiredFieldsFilled = () => {\r\n    return formElements.every((el) => {\r\n      if (el.required) {\r\n        return el.settings.label && el.settings.label.trim() !== '';\r\n      }\r\n      return true;\r\n    });\r\n  };\r\n\r\n  return (\r\n    <div className=\"form-builder-container\" style={{ height: '100vh', overflow: 'hidden' }}>\r\n<div className=\"sidebar\">\r\n\r\n\r\n  {/* Form Name Input */}\r\n  <div className=\"form-name-section\" style={{ marginBottom: '20px' }}>\r\n    <label htmlFor=\"form-name\" className=\"sidebar-label\">Form Name:</label>\r\n    <input\r\n      id=\"form-name\"\r\n      type=\"text\"\r\n      value={formName}\r\n      onChange={(e) => setFormName(e.target.value)}\r\n      placeholder=\"Enter form name\"\r\n      className=\"form-input\"\r\n    />\r\n  </div>\r\n\r\n  {/* Label Input (Required) */}\r\n<div className=\"form-label-section\" style={{ marginBottom: '20px' }}>\r\n  <label htmlFor=\"form-label\" className=\"sidebar-label\">Label (Required):</label>\r\n  <input\r\n    id=\"form-label\"\r\n    type=\"text\"\r\n    value={formLabel}\r\n    onChange={(e) => setFormLabel(e.target.value)}\r\n    placeholder=\"Enter form label\"\r\n    className=\"form-input\"\r\n  />\r\n</div>\r\n\r\n\r\n  <div className=\"element-input-wrapper\" style={{ display: 'flex', gap: '10px' }}>\r\n    <div className=\"element-selector\">\r\n      <h4>Elements</h4>\r\n      {ELEMENT_TYPES.map((element) => (\r\n        <button\r\n          key={element.id}\r\n          onClick={() => addElement(element.id)}\r\n          className=\"element-button\"\r\n        >\r\n          {element.label}\r\n        </button>\r\n      ))}\r\n    </div>\r\n\r\n    <div className=\"input-selector\">\r\n      <h4>Input Fields</h4>\r\n      {INPUT_FIELDS.map((input) => (\r\n        <button\r\n          key={input.id}\r\n          onClick={() => addElement(input.id)}\r\n          className=\"input-button\"\r\n        >\r\n          {input.label}\r\n        </button>\r\n      ))}\r\n    </div>\r\n  </div>\r\n  <div className=\"load-section\" style={{ marginBottom: '20px' }}>\r\n  <label htmlFor=\"saved-forms\" className=\"sidebar-label\">Load Saved Form:</label>\r\n  <select\r\n    id=\"saved-forms\"\r\n    value={selectedForm}\r\n    onChange={(e) => setSelectedForm(e.target.value)}\r\n    className=\"sidebar-select\"\r\n  >\r\n    <option value=\"\">-- Select a Form --</option>\r\n    {savedForms.map((form) => (\r\n      <option key={form.id} value={form.name}> {/* Ensure you're using form.name */}\r\n        {form.name} {/* This should render a string */}\r\n      </option>\r\n    ))}\r\n  </select>\r\n  <button onClick={loadForm} className=\"load-form-button\">Load Form</button>\r\n</div>\r\n  <button onClick={saveForm} className=\"save-form-button\">Save Form</button>\r\n  <button onClick={handleResetForm} className=\"reset-form-button\">Reset Form</button>\r\n</div>\r\n\r\n\r\n      <div className=\"form-builder\" ref={formContainerRef} style={{ height: '100%', overflowY: 'auto' }}>\r\n        <DndContext\r\n          collisionDetection={closestCenter}\r\n          onDragEnd={handleDragEnd}\r\n          onDragStart={handleDragStart}\r\n        >\r\n          <SortableContext items={formElements} strategy={rectSortingStrategy}>\r\n            <div className=\"form-preview\">\r\n              {formElements.map((element) => (\r\n                <SortableFormElement\r\n                  key={element.id}\r\n                  element={element}\r\n                  handleEditClick={handleEditClick}\r\n                  renderElementContent={renderElementContent}\r\n                />\r\n              ))}\r\n            </div>\r\n          </SortableContext>\r\n          {draggingElement && (\r\n            <DragOverlay>\r\n              <div className=\"dragging-overlay\">Dragging</div>\r\n            </DragOverlay>\r\n          )}\r\n        </DndContext>\r\n      </div>\r\n\r\n      {selectedElement && (\r\n  <div className=\"element-editor\">\r\n    <div className=\"element-editor-header\">\r\n    <h3>Edit Element</h3>\r\n      <button\r\n        onClick={() => {\r\n          if (window.confirm('Are you sure you want to delete this element?')) {\r\n            removeElement(selectedElement.id);\r\n          }\r\n        }}\r\n        className=\"delete-element\"\r\n      >\r\n        Remove Element\r\n      </button>\r\n    </div>\r\n    <label>\r\n  Key:\r\n  <input\r\n    type=\"text\"\r\n    value={draftSettings?.key || ''}\r\n    onChange={(e) =>\r\n      setDraftSettings((prev) => ({ ...prev, key: e.target.value }))\r\n    }\r\n    disabled={selectedElement?.type === 'file'} // Disable if the element type is 'file'\r\n  />\r\n</label>\r\n          <label>\r\n            Label:\r\n            <input\r\n              type=\"text\"\r\n              value={draftSettings?.label || ''}\r\n              onChange={(e) =>\r\n                setDraftSettings((prev) => ({ ...prev, label: e.target.value }))\r\n              }\r\n            />\r\n          </label>\r\n          <div className=\"checkbox-wrapper\">\r\n            <label>\r\n    Required:\r\n            </label>\r\n            <input\r\n              type=\"checkbox\"\r\n              checked={draftSettings?.required || false}\r\n              onChange={(e) =>\r\n                setDraftSettings((prev) => ({\r\n                  ...prev,\r\n                  required: e.target.checked,\r\n                }))\r\n              }\r\n            />\r\n          </div>\r\n          {selectedElement.type === 'heading' && (\r\n            <label>\r\n              Header Level:\r\n              <select\r\n                value={draftSettings?.headerLevel || 'h1'}\r\n                onChange={(e) =>\r\n                  setDraftSettings((prev) => ({\r\n                    ...prev,\r\n                    headerLevel: e.target.value,\r\n                  }))\r\n                }\r\n              >\r\n                <option value=\"h1\">H1</option>\r\n                <option value=\"h2\">H2</option>\r\n                <option value=\"h3\">H3</option>\r\n                <option value=\"h4\">H4</option>\r\n                <option value=\"h5\">H5</option>\r\n                <option value=\"h6\">H6</option>\r\n              </select>\r\n            </label>\r\n          )}\r\n          <label>\r\n            Alignment:\r\n            <select\r\n              value={draftSettings?.alignment || 'center'}\r\n              onChange={(e) =>\r\n                setDraftSettings((prev) => ({ ...prev, alignment: e.target.value }))\r\n              }\r\n            >\r\n              <option value=\"left\">Left</option>\r\n              <option value=\"center\">Center</option>\r\n              <option value=\"right\">Right</option>\r\n            </select>\r\n          </label>\r\n          {(selectedElement.type === 'inputText' || selectedElement.type === 'email') && (\r\n            <label>\r\n              Placeholder Text:\r\n              <input\r\n                type=\"text\"\r\n                value={draftSettings?.placeholder || ''}\r\n                onChange={(e) =>\r\n                  setDraftSettings((prev) => ({ ...prev, placeholder: e.target.value }))\r\n                }\r\n              />\r\n            </label>\r\n          )}\r\n          {selectedElement.type === 'dateTime' && (\r\n            <label>\r\n              Use Current Date:\r\n              <input\r\n                type=\"checkbox\"\r\n                checked={draftSettings?.useCurrentDate || false}\r\n                onChange={(e) =>\r\n                  setDraftSettings((prev) => ({ ...prev, useCurrentDate: e.target.checked }))\r\n                }\r\n              />\r\n            </label>\r\n          )}\r\n{selectedElement.type === 'dropdown' && (\r\n  <>\r\n{selectedElement.type === 'dropdown' && (\r\n  <>\r\n    <div className=\"dropdown-options-container\">\r\n      <label>Dropdown Options:</label>\r\n      <button\r\n        onClick={() =>\r\n          setDraftSettings((prev) => ({\r\n            ...prev,\r\n            dropdownOptions: [...(prev.dropdownOptions || []), ''],\r\n          }))\r\n        }\r\n        className=\"add-option\"\r\n      >\r\n        +\r\n      </button>\r\n    </div>\r\n    {draftSettings?.dropdownOptions?.map((option, idx) => (\r\n      <div key={idx} style={{ display: 'flex', alignItems: 'center' }}>\r\n        <input\r\n          type=\"text\"\r\n          value={option}\r\n          onChange={(e) =>\r\n            setDraftSettings((prev) => {\r\n              const updatedOptions = [...prev.dropdownOptions];\r\n              updatedOptions[idx] = e.target.value;\r\n              return { ...prev, dropdownOptions: updatedOptions };\r\n            })\r\n          }\r\n        />\r\n        <button\r\n          onClick={() =>\r\n            setDraftSettings((prev) => ({\r\n              ...prev,\r\n              dropdownOptions: prev.dropdownOptions.filter((_, i) => i !== idx),\r\n            }))\r\n          }\r\n          style={{\r\n            marginLeft: '10px',\r\n            padding: '5px 10px',\r\n            color: 'white',\r\n            backgroundColor: 'red',\r\n            borderRadius: '4px',\r\n            cursor: 'pointer',\r\n          }}\r\n        >\r\n          X\r\n        </button>\r\n      </div>\r\n    ))}\r\n  </>\r\n)}\r\n\r\n  </>\r\n)}\r\n\r\n          {selectedElement.type === 'boolean' && (\r\n            <label>\r\n              Default Boolean Value:\r\n              <select\r\n                value={draftSettings?.defaultBoolean || 'true'}\r\n                onChange={(e) =>\r\n                  setDraftSettings((prev) => ({ ...prev, defaultBoolean: e.target.value }))\r\n                }\r\n              >\r\n                <option value=\"true\">True</option>\r\n                <option value=\"false\">False</option>\r\n              </select>\r\n            </label>\r\n          )}\r\n          {selectedElement.type === 'number' && (\r\n            <>\r\n              <label>\r\n                Minimum Value:\r\n                <input\r\n                  type=\"number\"\r\n                  value={draftSettings?.min || ''}\r\n                  onChange={(e) =>\r\n                    setDraftSettings((prev) => ({ ...prev, min: e.target.value }))\r\n                  }\r\n                />\r\n              </label>\r\n              <label>\r\n                Maximum Value:\r\n                <input\r\n                  type=\"number\"\r\n                  value={draftSettings?.max || ''}\r\n                  onChange={(e) =>\r\n                    setDraftSettings((prev) => ({ ...prev, max: e.target.value }))\r\n                  }\r\n                />\r\n              </label>\r\n              <label>\r\n                Step Value:\r\n                <input\r\n                  type=\"number\"\r\n                  value={draftSettings?.step || ''}\r\n                  onChange={(e) =>\r\n                    setDraftSettings((prev) => ({ ...prev, step: e.target.value }))\r\n                  }\r\n                />\r\n              </label>\r\n              <label>\r\n                Default Value:\r\n                <input\r\n                  type=\"number\"\r\n                  value={draftSettings?.defaultValue || ''}\r\n                  onChange={(e) =>\r\n                    setDraftSettings((prev) => ({ ...prev, defaultValue: e.target.value }))\r\n                  }\r\n                />\r\n              </label>\r\n            </>\r\n          )}\r\n          {selectedElement.type === 'password' && (\r\n            <>\r\n              <label>\r\n                Show Password Option:\r\n                <input\r\n                  type=\"checkbox\"\r\n                  checked={draftSettings?.showPasswordOption || false}\r\n                  onChange={(e) =>\r\n                    setDraftSettings((prev) => ({\r\n                      ...prev,\r\n                      showPasswordOption: e.target.checked,\r\n                    }))\r\n                  }\r\n                />\r\n              </label>\r\n              <label>\r\n                Minimum Password Length:\r\n                <input\r\n                  type=\"number\"\r\n                  value={draftSettings?.passwordLength || ''}\r\n                  onChange={(e) =>\r\n                    setDraftSettings((prev) => ({\r\n                      ...prev,\r\n                      passwordLength: e.target.value,\r\n                    }))\r\n                  }\r\n                />\r\n              </label>\r\n              <label>\r\n                Requires Symbols:\r\n                <input\r\n                  type=\"checkbox\"\r\n                  checked={draftSettings?.requireSymbols || false}\r\n                  onChange={(e) =>\r\n                    setDraftSettings((prev) => ({\r\n                      ...prev,\r\n                      requireSymbols: e.target.checked,\r\n                    }))\r\n                  }\r\n                />\r\n              </label>\r\n              <label>\r\n                Requires Numbers:\r\n                <input\r\n                  type=\"checkbox\"\r\n                  checked={draftSettings?.requireNumbers || false}\r\n                  onChange={(e) =>\r\n                    setDraftSettings((prev) => ({\r\n                      ...prev,\r\n                      requireNumbers: e.target.checked,\r\n                    }))\r\n                  }\r\n                />\r\n              </label>\r\n            </>\r\n          )}\r\n          <button\r\n            onClick={applyDraftChanges}\r\n            className=\"save-changes\"\r\n\r\n            disabled={!areRequiredFieldsFilled()}\r\n          >\r\n            Save Changes\r\n          </button>\r\n          <button\r\n            onClick={cancelChanges}\r\n            className=\"cancel-button\"\r\n          >\r\n            Cancel\r\n          </button>      \r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nconst SortableFormElement = ({ element, handleEditClick, renderElementContent }) => {\r\n  const { attributes, listeners, setNodeRef, transform, transition } = useSortable({\r\n    id: element.id,\r\n  });\r\n\r\n  const style = {\r\n    transform: transform ? `translate3d(${transform.x}px, ${transform.y}px, 0)` : undefined,\r\n    transition,\r\n    backgroundColor: element.settings?.backgroundColor || 'inherit',\r\n  };\r\n\r\n  return (\r\n    <div\r\n      ref={setNodeRef}\r\n      style={style}\r\n      className=\"form-element\"\r\n      onClick={() => handleEditClick(element)}\r\n    >\r\n      {renderElementContent(element)}\r\n      <button\r\n        className=\"drag-handle\"\r\n        {...listeners}\r\n        {...attributes}\r\n        onMouseDown={(e) => e.stopPropagation()}\r\n      >\r\n        Drag\r\n      </button>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default FormBuilder;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}